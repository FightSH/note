# 函数式编程

一种使用函数进行编程的方式。

在函数式编程的上下文中，一个函数对应于一个数学函数：**接受零个或多个参数，生成一个或多个结果，并且不会有任何副作用**

换句话说，如果程序有一定的副作用，不过该副作用不会被其他的调用者感知，那么是否能假设这种副作用不存在呢？调用者不需要知道，或者完全不在意这些副作用，因为这对它完全没有影响。

被称为函数式的函数或方法都只能修改本地变量



### 引用透明性





### 递归和迭代

**递归**（recursion）是函数式编程特别推崇的一种技术，它能培养你思考要“做什么”的编程风格。

理论上每个程序都能使用无须修改的递归重写，通过这种方式避免使用迭代

~~~java
    // 迭代
	static long factorialIterative(long n) {
        long r = 1;
        for (int i = 1; i < n; i++) {
            r *= i;
        }
        return r;
    }
	// 递归
    static long factorialRecursive(long n) {
        return n == 1 ? 1 : n * factorialRecursive(n - 1);
    }
	// stream流
    static long factorialStreams(long n) {
        return LongStream.rangeClosed(1, n).reduce(1, (long a, long b) -> a * b);
    }
~~~

但是递归相比迭代也有不足（StackOverFlow异常等）。

但是可以考虑通过**尾调优化**解决此问题。基本的思想是编写阶乘的一个迭代定义，不过迭代调用发生在函数的最后（所以我们说调用发生在尾部）。这种新型的迭代调用经过优化后执行的速度快很多。



~~~java
	static long factorialTailRecursive(long n){
        return factorialHelper(1, n);
    }

	static long factorialHelper(long acc, long n){
        return n == 1 ？ acc : factorialHelper(acc * n, n)
    }
~~~

