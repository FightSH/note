## 微服务的挑战



设计和运行微服务应用时，可能遇到的挑战

1. 识别和划定微服务范围需要大量的专业业务领域知识
2. 正确识别服务间的边界和契约是很困难的，而且一旦确定，是很难进行改动的
3. 微服务是分布式系统，所以需要对状态、一致性和网络可靠性这些内容做出不同的假设
4. 跨网络分发系统组件以及不断增长的技术差异性，会导致微服务出现新的故障形式
5. 越来越难了解和验证在正常运行过程中会发生什么事情



## 微服务的设计

在开发微服务应用时，常常需要考虑一下问题：

- 是从一个单体应用起步，还是一开始就使用微服务
- 应用的整体架构以及开发给外部消费者的接口
- 如何识别和划定服务的边界？
- 服务之间是如何通信的？同步还是异步？
- 如何实现服务的可恢复性？
- ......

### 1. 单体应用是否先行

有两种选择：单体先行；直接使用微服务方案。

前者认为应该始终以单体应用开始，因为在前期，开发者往往还不够了解系统中各个组件的边界，而在微服务应用中，如果这一步出错的话，代价会高的多。换句话说，在单体应用中选择的边界与精心设计过的微服务应用中的边界并不需要保持一致。

而直接开发微服务，虽然开发速度会慢一些，但是能够降低未来开发的冲突和风险。同样，随着工具和框架越来越成熟，微服务最佳实践不再那么令人生畏，会变得越来越容易应用。
